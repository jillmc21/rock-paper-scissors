<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
        <meta charset = "UTF-8">
    </head>
    <body>
        <script>

            //This function gets the play of the computer
            function computerPlay() {
                let computerSelection = Math.floor(Math.random()*3);
                if (computerSelection == 0){
                    return "rock";
                } else if (computerSelection == 1){
                    return "paper";
                } else {
                    return "scissors";
                }
            }

            //This function gets the play of the user
            function userPlay() {
                let playerSelection = window.prompt("Rock, Paper, or Scissors?");
                playerSelection = playerSelection.toLowerCase();
                while (playerSelection != "rock" && playerSelection != "paper" && playerSelection != "scissors"){
                    playerSelection = window.prompt("Invalid selection. Please choose rock, paper, or scissors.");
                    playerSelection = playerSelection.toLowerCase();
                }
                return playerSelection;
            }
            
            //This function compares plays of computer and user and returns results
            function playGame(computerSelection, userSelection) {
                if (computerSelection === userSelection){
                    return "Tie!";
                } else if (computerSelection==="rock" && userSelection==="paper") {
                    return "You win this round!";
                } else if (computerSelection==="rock" && userSelection==="scissors") {
                    return "Computer wins this round!";
                } else if (computerSelection==="paper" && userSelection==="rock") {
                    return "Computer wins this round!";
                } else if (computerSelection==="paper" && userSelection==="scissors") {
                    return "You win this round!";
                } else if (computerSelection==="scissors" && userSelection==="paper") {
                    return "Computer wins this round!";
                } else if (computerSelection==="scissors" && userSelection==="rock") {
                    return "You win this round!";
                }
            }
             
            function game(){
                let computerScore=0;
                let userScore=0;

                for (let i=1; i<=5; i++){
                    let computerSelection = computerPlay();
                    let userSelection = userPlay();
                    console.log(computerSelection);
                    console.log(userSelection);
                    let result = playGame(computerSelection, userSelection);
                    console.log(result);
                    if (result == "You win this round!") {
                        userScore++;
                    } else if (result == "Computer wins this round!") {
                        computerScore++;
                    } else {
                        console.log("No points given this round");
                    }
                }
                if (userScore>computerScore){
                    console.log("You won the game!")
                } else if (computerScore>userScore){
                    console.log("Computer won the game!")
                } else {
                    console.log("You tied this game!")
                }
            }
            game(); 

            

        </script>
    </body>
</html>